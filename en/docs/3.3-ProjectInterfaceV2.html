<!DOCTYPE html>
<html lang="en-us" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Project Interface V2 | MaaFramework</title>
    
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/assets/style.DJa4UQXR.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.CnSG2xAY.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.QjAkUUnS.js">
    <link rel="modulepreload" href="/assets/chunks/theme.Cp5cnCEX.js">
    <link rel="modulepreload" href="/assets/chunks/katex.BbEIqZs1.js">
    <link rel="modulepreload" href="/assets/chunks/dagre-6UL2VRFP.CPAR2EK8.js">
    <link rel="modulepreload" href="/assets/chunks/cose-bilkent-S5V4N54A.CaDR22Rp.js">
    <link rel="modulepreload" href="/assets/chunks/c4Diagram-YG6GDRKO.fq-xQACK.js">
    <link rel="modulepreload" href="/assets/chunks/flowDiagram-NV44I4VS.DYTNAjLT.js">
    <link rel="modulepreload" href="/assets/chunks/erDiagram-Q2GNP2WA.BrLnVZEk.js">
    <link rel="modulepreload" href="/assets/chunks/gitGraphDiagram-NY62KEGX.DN3EsFxt.js">
    <link rel="modulepreload" href="/assets/chunks/ganttDiagram-LVOFAZNH.CulZ77Zj.js">
    <link rel="modulepreload" href="/assets/chunks/infoDiagram-ER5ION4S.CkK03Chd.js">
    <link rel="modulepreload" href="/assets/chunks/pieDiagram-ADFJNKIX.DwPf6NMT.js">
    <link rel="modulepreload" href="/assets/chunks/quadrantDiagram-AYHSOK5B.B35AmaxS.js">
    <link rel="modulepreload" href="/assets/chunks/xychartDiagram-PRI3JC2R.CQkLczdu.js">
    <link rel="modulepreload" href="/assets/chunks/requirementDiagram-UZGBJVZJ.DthjVgC8.js">
    <link rel="modulepreload" href="/assets/chunks/sequenceDiagram-WL72ISMW.CQ_FJkMj.js">
    <link rel="modulepreload" href="/assets/chunks/classDiagram-2ON5EDUG.CLyVv7xf.js">
    <link rel="modulepreload" href="/assets/chunks/classDiagram-v2-WZHVMYZB.CLyVv7xf.js">
    <link rel="modulepreload" href="/assets/chunks/stateDiagram-FKZM4ZOC.BLE1oRB5.js">
    <link rel="modulepreload" href="/assets/chunks/stateDiagram-v2-4FDKWEC3.D32FO9gG.js">
    <link rel="modulepreload" href="/assets/chunks/journeyDiagram-XKPGCS4Q.joZWInnG.js">
    <link rel="modulepreload" href="/assets/chunks/timeline-definition-IT6M3QCI.By0ohgkl.js">
    <link rel="modulepreload" href="/assets/chunks/mindmap-definition-VGOIOE7T.BBIXeZah.js">
    <link rel="modulepreload" href="/assets/chunks/kanban-definition-3W4ZIXB7.C8RDXxLu.js">
    <link rel="modulepreload" href="/assets/chunks/sankeyDiagram-TZEHDZUN.rONXReP4.js">
    <link rel="modulepreload" href="/assets/chunks/diagram-S2PKOQOG.CDpDBWiP.js">
    <link rel="modulepreload" href="/assets/chunks/diagram-QEK2KX5R.DQlbikTr.js">
    <link rel="modulepreload" href="/assets/chunks/blockDiagram-VD42YOAC.DUYJLhAs.js">
    <link rel="modulepreload" href="/assets/chunks/architectureDiagram-VXUJARFQ.C09sQ3h3.js">
    <link rel="modulepreload" href="/assets/chunks/diagram-PSM6KHXK.BVrdtDSQ.js">
    <link rel="modulepreload" href="/assets/chunks/virtual_mermaid-config.DDnGl6nM.js">
    <link rel="modulepreload" href="/assets/en_docs_3.3-ProjectInterfaceV2.md.DN0_RPca.lean.js">
    <link rel="icon" href="/maafw.ico">
    <meta name="author" content="MaaXYZ">
    <meta name="theme-color" content="#1b73e8">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="MaaFramework">
    <meta name="robots" content="index,follow">
    <meta name="twitter:card" content="summary_large_image">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
    <link rel="canonical" href="https://maafw.xyz/">
    <link rel="alternate" href="https://maafw.xyz/" hreflang="zh-CN">
    <link rel="alternate" href="https://maafw.xyz/en/" hreflang="en-US">
    <link rel="alternate" href="https://maafw.xyz/" hreflang="x-default">
    <meta property="og:url" content="https://maafw.xyz/">
    <meta property="og:title" content="MaaFramework">
    <meta property="og:description" content="åŸºäºŽå›¾åƒè¯†åˆ«çš„è‡ªåŠ¨åŒ–é»‘ç›’æµ‹è¯•æ¡†æž¶">
    <meta property="og:image" content="https://maafw.xyz/maafw.png">
    <meta property="og:locale" content="zh_CN">
    <meta name="description" content="åŸºäºŽå›¾åƒè¯†åˆ«çš„è‡ªåŠ¨åŒ–é»‘ç›’æµ‹è¯•æ¡†æž¶">
    <meta name="twitter:title" content="MaaFramework">
    <meta name="twitter:description" content="åŸºäºŽå›¾åƒè¯†åˆ«çš„è‡ªåŠ¨åŒ–é»‘ç›’æµ‹è¯•æ¡†æž¶">
    <meta name="twitter:image" content="https://maafw.xyz/maafw.png">
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"WebSite","name":"MaaFramework","url":"https://maafw.xyz/","inLanguage":"zh-CN"}</script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"é¦–é¡µ","item":"https://maafw.xyz/"}]}</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/en/" data-v-1168a8e4><!--[--><!--]--><!--[--><img class="VPImage logo" src="/maafw.png" alt data-v-8426fc1a><!--]--><span data-v-1168a8e4>MaaFramework</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/en" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/en/docs/1.1-QuickStarted" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Docs</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-dc692963 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-cf11d7a2><span class="text" data-v-cf11d7a2><!----><span data-v-cf11d7a2>Community</span><span class="vpi-chevron-down text-icon" data-v-cf11d7a2></span></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><div class="items" data-v-b98bc113><!--[--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/en/community/projects" data-v-35975db6><!--[--><span data-v-35975db6>Projects</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuGroup" data-v-b98bc113 data-v-69e747b5><p class="title" data-v-69e747b5>Links</p><!--[--><!--[--><div class="VPMenuLink" data-v-69e747b5 data-v-35975db6><a class="VPLink link vp-external-link-icon" href="https://maa.plus" target="_blank" rel="noreferrer" data-v-35975db6><!--[--><span data-v-35975db6>MaaAssistantArknights</span><!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://deepwiki.com/MaaXYZ/MaaFramework" target="_blank" rel="noreferrer" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Ask AI ðŸ¤–</span><!--]--></a><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-6aa21345 data-v-88af2de4 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-cf11d7a2><span class="text" data-v-cf11d7a2><span class="vpi-languages option-icon" data-v-cf11d7a2></span><!----><span class="vpi-chevron-down text-icon" data-v-cf11d7a2></span></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><div class="items" data-v-88af2de4><p class="title" data-v-88af2de4>English</p><!--[--><div class="VPMenuLink" data-v-88af2de4 data-v-35975db6><a class="VPLink link" href="/docs/3.3-ProjectInterfaceV2" data-v-35975db6><!--[--><span data-v-35975db6>ç®€ä½“ä¸­æ–‡</span><!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/MaaXYZ/MaaFramework" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><div class="group translations" data-v-bb2aa2f0><p class="trans-title" data-v-bb2aa2f0>English</p><!--[--><div class="VPMenuLink" data-v-bb2aa2f0 data-v-35975db6><a class="VPLink link" href="/docs/3.3-ProjectInterfaceV2" data-v-35975db6><!--[--><span data-v-35975db6>ç®€ä½“ä¸­æ–‡</span><!--]--></a></div><!--]--></div><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/MaaXYZ/MaaFramework" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 has-active" data-v-c40bc020 data-v-b3fd67f8><!----><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/en/docs/1.1-QuickStarted" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>QuickStarted</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/en/docs/1.2-ExplanationOfTerms" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>ExplanationOfTerms</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/en/docs/2.1-Integration" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Integration</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/en/docs/2.2-IntegratedInterfaceOverview" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>IntegratedInterfaceOverview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/en/docs/2.3-CallbackProtocol" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>CallbackProtocol</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/en/docs/3.1-PipelineProtocol" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>PipelineProtocol</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/en/docs/3.2-ProjectInterface" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>ProjectInterface</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/en/docs/3.3-ProjectInterfaceV2" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>ProjectInterfaceV2</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/en/docs/4.1-BuildGuide" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>BuildGuide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/en/docs/4.2-StandardizedInterfaceDesign" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>StandardizedInterfaceDesign</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>NodeJS</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/en/docs/NodeJS/J1.1-QuickStarted" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>QuickStarted</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/en/docs/NodeJS/J1.2-Custom%20Recognition%20and%20Action" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Custom Recognition and Action</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/en/docs/NodeJS/J1.3-Packaging" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Packaging</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _en_docs_3_3-ProjectInterfaceV2" data-v-39a288b8><div><h1 id="project-interface-v2" tabindex="-1">Project Interface V2 <a class="header-anchor" href="#project-interface-v2" aria-label="Permalink to &quot;Project Interface V2&quot;">â€‹</a></h1><blockquote><p><strong>Note:</strong> This document is about the creation and usage of <code>ProjectInterface</code>. In this document, <strong>PI</strong> refers to <code>ProjectInterface</code> and <strong>Client</strong> refers to the tool that can process PI.</p></blockquote><p>This V2 protocol was newly introduced in v5.x, featuring many new highlights. Various general-purpose UIs are currently integrating and adapting to it! If you prefer a stable version, please refer to the <a href="3.2-ProjectInterface">V1 Protocol</a>. You are also welcome to join the development group to request V2 updates.</p><h2 id="introduction" tabindex="-1">Introduction <a class="header-anchor" href="#introduction" aria-label="Permalink to &quot;Introduction&quot;">â€‹</a></h2><p>The so-called <code>ProjectInterface</code> is a standardized project structure declaration for MaaFramework. It currently consists of a single file, <code>interface.json</code>. By defining a PI, you can leverage various derivative tools of MaaFramework. Therefore, even if you intend to integrate solely using a general-purpose programming language, it is recommended to define a PI containing the basic information.</p><p><em>Currently, no UI supports the V2 protocol yet.</em></p><h2 id="interface-json" tabindex="-1"><code>interface.json</code> <a class="header-anchor" href="#interface-json" aria-label="Permalink to &quot;`interface.json`&quot;">â€‹</a></h2><blockquote><p>This file can be validated and receive hints via the <a href="https://github.com/MaaXYZ/MaaFramework/blob/main/tools/interface_v2.schema.json" target="_blank" rel="noopener noreferrer">schema</a> file. When opening the project template folder with VSCode, the schema and file will be automatically associated.</p></blockquote><p><strong>The V2 version still reads from <code>interface.json</code> (but additionally supports JSON with comments). The <a href="https://github.com/MaaXYZ/MaaFramework/blob/main/sample/interface_v2.json" target="_blank" rel="noopener noreferrer">sample</a> uses a different name temporarily to distinguish it from V1.</strong></p><h3 id="overall-structure" tabindex="-1">Overall Structure <a class="header-anchor" href="#overall-structure" aria-label="Permalink to &quot;Overall Structure&quot;">â€‹</a></h3><ul><li><p><strong>interface_version</strong> <code>number</code> The interface version number, currently 2, fixed and required. Used to identify the ProjectInterface protocol version.</p></li><li><p><strong>languages</strong> <code>object</code> Multi-language support configuration. Keys are language codes, values are paths to corresponding translation files. If not specified, only Chinese is supported by default. File paths are relative to the directory containing interface.json.</p><div class="language-jsonc vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsonc</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;languages&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;zh_cn&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;interface_zh.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;en_us&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;interface_en.json&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li><p><strong>name</strong> <code>string</code> The unique project identifier, used as the project ID.</p></li><li><p><strong>label</strong> <code>string</code> The project display name, shown in the user interface. Supports internationalized strings (starting with <code>$</code>). If not set, the value of the <code>name</code> field is displayed. <em>Optional.</em></p><div class="language-jsonc vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsonc</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MyProject&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;label&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;$project_name&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Internationalized project name</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li><p><strong>title</strong> <code>string</code> The window title. The Client will display this content directly without additional decoration. <em>Optional</em>, defaults to a combination of <code>name</code> and <code>version</code>. Supports internationalization (starting with <code>$</code>).</p></li><li><p><strong>icon</strong> <code>string</code> The application icon file path, relative to the project root directory. If not specified, the default icon is used. Supports internationalization (starting with <code>$</code>).</p></li><li><p><strong>mirrorchyan_rid</strong> <code>string</code> MirrorChyan resource package identifier, used for resource management and distribution.</p></li><li><p><strong>mirrorchyan_multiplatform</strong> <code>boolean</code> Whether multi-platform is supported, affecting resource package packaging and distribution strategies.</p></li><li><p><strong>github</strong> <code>string</code> The project&#39;s GitHub repository URL, used for version update checking and issue feedback. <strong>Software Update Convention:</strong><s>After painful lessons from version history,</s> we expect general-purpose UIs to only provide update functionality for this GitHub release, not separate updates for the UI itself or MaaFW. Resource authors should package their specified UI/MaaFW when releasing, ensuring that a specific resource version on the user side corresponds to a unique UI and MaaFW version, avoiding various issues caused by version mixing.</p></li><li><p><strong>version</strong> <code>string</code> The project version number. The Client can display it to users and use it for version update checking.</p></li><li><p><strong>contact</strong> <code>string</code> Contact information, displayed on the &quot;About&quot; page. Supports file paths, URLs, or direct text. Content supports Markdown format. Supports internationalization (starting with <code>$</code>).</p></li><li><p><strong>license</strong> <code>string</code> Project license information, displayed on the &quot;About&quot; page. Supports file paths, URLs, or direct text. Content supports Markdown format. Supports internationalization (starting with <code>$</code>).</p></li><li><p><strong>welcome</strong> <code>string</code> Welcome message, displayed in a popup when the user first uses the application, can also be used as an announcement. Supports file paths, URLs, or direct text. Content supports Markdown format. The system records the displayed content and will show the popup again when the content is updated. Supports internationalization (starting with <code>$</code>).</p></li><li><p><strong>description</strong> <code>string</code> Project description information, displayed on the &quot;About&quot; page. Supports file paths, URLs, or direct text. Content supports Markdown format. Supports internationalization (starting with <code>$</code>).</p></li><li><p><strong>controller</strong> <code>object[]</code> Controller configuration, an array of objects containing preset controller information.</p><ul><li><p><strong>name</strong> <code>string</code> Unique name identifier, used as the controller ID.</p></li><li><p><strong>label</strong> <code>string</code> Display name, shown in the user interface. Supports internationalized strings (starting with <code>$</code>). If not set, the value of the <code>name</code> field is displayed.</p></li><li><p><strong>description</strong> <code>string</code> Detailed controller description. Supports file paths, URLs, or direct text. Content supports Markdown format. <em>Optional.</em> Supports internationalization (starting with <code>$</code>).</p></li><li><p><strong>icon</strong> <code>string</code> Controller icon file path, relative to the project root directory. <em>Optional.</em> Supports internationalization (starting with <code>$</code>).</p></li><li><p><strong>type</strong> <code>&#39;Adb&#39; | &#39;Win32&#39;</code> Controller type; valid values are <code>Adb</code> and <code>Win32</code>.</p></li><li><p><strong>display_short_side</strong> <code>number</code> The short side length of the default scaled resolution, used for screen adaptation. <em>Optional</em>, defaults to 720. Mutually exclusive with <code>display_long_side</code> and <code>display_raw</code>.</p></li><li><p><strong>display_long_side</strong> <code>number</code> The long side length of the default scaled resolution, used for screen adaptation. <em>Optional.</em> Mutually exclusive with <code>display_short_side</code> and <code>display_raw</code>.</p></li><li><p><strong>display_raw</strong> <code>boolean</code> Whether to use the original resolution for screenshots without scaling. <em>Optional</em>, defaults to false. Mutually exclusive with scaled resolution settings.</p></li><li><p><strong>adb</strong> <code>object</code> Specific configuration for the <code>Adb</code> controller.</p><p><em>None currently.</em></p></li><li><p><strong>win32</strong> <code>object</code> Specific configuration for the <code>Win32</code> controller.</p><ul><li><p><strong>class_regex</strong> <code>string</code><em>Optional.</em> The regular expression used to search for window class names by the Win32 controller.</p></li><li><p><strong>window_regex</strong> <code>string</code><em>Optional.</em> The regular expression used to search for window titles by the Win32 controller.</p></li><li><p><strong>mouse</strong> <code>string</code><em>Optional.</em> The mouse control method for the Win32 controller. If not provided, the default is used. See <a href="#win32-input">Input and Screencap</a> for details.</p></li><li><p><strong>keyboard</strong> <code>string</code><em>Optional.</em> The keyboard control method for the Win32 controller. If not provided, the default is used. See <a href="#win32-input">Input and Screencap</a> for details.</p></li><li><p><strong>screencap</strong> <code>string</code><em>Optional.</em> The screenshot method for the Win32 controller. If not provided, the default is used. See <a href="#win32-screencap">Input and Screencap</a> for details.</p></li></ul></li></ul></li><li><p><strong>resource</strong> <code>object[]</code> Resource configuration, an array of objects containing information about resource loading.</p><ul><li><p><strong>name</strong> <code>string</code> Unique name identifier, used as the resource package ID.</p></li><li><p><strong>label</strong> <code>string</code> Display name, shown in the user interface. Supports internationalized strings (starting with <code>$</code>). If not set, the value of the <code>name</code> field is displayed. <em>Optional.</em></p></li><li><p><strong>description</strong> <code>string</code> Detailed resource description. Supports file paths, URLs, or direct text. Content supports Markdown format. <em>Optional.</em></p></li><li><p><strong>icon</strong> <code>string</code> Resource icon file path, relative to the project root directory. <em>Optional.</em> Supports internationalization (starting with <code>$</code>).</p></li><li><p><strong>path</strong> <code>string[]</code> An array of paths to load. If multiple paths are provided, they will be loaded sequentially; resources loaded later will <a href="#resource-override">override</a> those loaded earlier. File paths are relative to the directory containing interface.json. <strong>Note:</strong> Resources include not only <code>pipeline</code> but also <code>image</code> and <code>model</code>. Therefore, do not specify the <code>pipeline</code> directory directly.</p></li><li><p><strong>controller</strong> <code>string[]</code><em>Optional.</em> Specifies the list of controller types supported by this resource package. Array elements should correspond to the <code>name</code> field in the <code>controller</code> configuration. If not specified, all controller types are supported.</p><p>When a user selects a controller, only resource packages that support that controller will be displayed in the user interface for selection. This allows providing specially optimized resource packages for different controller types.</p><div class="language-jsonc vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsonc</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;resource&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;AndroidSpecificResource&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;label&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;$AndroidSpecificResource&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;controller&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Android&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;resource_android&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;GeneralResource&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;label&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;$GeneralResource&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;resource&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div></li></ul></li><li><p><strong>agent</strong> <code>object</code> Agent configuration, an object containing information about the subprocess (AgentServer).</p><ul><li><p><strong>child_exec</strong> <code>string</code> The subprocess path, an executable file available in the system path. For example, if the Python path exists in the environment variables (system or user), you can simply write <code>&quot;python&quot;</code>. CWD is the directory containing interface.json.</p></li><li><p><strong>child_args</strong> <code>string[]</code><em>Optional.</em> An array of arguments for the subprocess.</p><div class="language-jsonc vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsonc</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;agent&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;child_exec&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;python&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;child_args&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;./agent/main.py&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,              </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Note: CWD is the directory containing interface.json</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;--test-mode&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                   // Fixed string, passed as-is</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li><p><strong>identifier</strong> <code>string</code><em>Optional.</em> A connection identifier used to create a communication socket. If provided, it will be used; otherwise, one is created automatically.</p></li></ul></li><li><p><strong>task</strong> <code>object[]</code> Task configuration, an array of objects containing information about executable tasks.</p><ul><li><p><strong>name</strong> <code>string</code> Unique task identifier, used as the task ID.</p></li><li><p><strong>label</strong> <code>string</code> Task display name, shown in the user interface. Supports internationalized strings (starting with <code>$</code>). If not set, the value of the <code>name</code> field is displayed. <em>Optional.</em></p></li><li><p><strong>entry</strong> <code>string</code> The task entry, which is the name of the <code>Task</code> in the <code>pipeline</code>.</p></li><li><p><strong>default_check</strong> <code>boolean</code> Whether this task is selected by default. <em>Optional</em>, defaults to false. The Client will use this value to determine whether to check this task by default during initialization.</p></li><li><p><strong>description</strong> <code>string</code> Detailed task description to help users understand the task&#39;s functionality. Supports file paths, URLs, or direct text. Content supports Markdown format. <em>Optional.</em></p></li><li><p><strong>icon</strong> <code>string</code> Task icon file path, relative to the project root directory. Used for display in the user interface. <em>Optional.</em> Supports internationalization (starting with <code>$</code>).</p></li><li><p><strong>resource</strong> <code>string[]</code><em>Optional.</em> Specifies the list of resource packages supported by this task. Array elements should correspond to the <code>name</code> field in the <code>resource</code> configuration. If not specified, this task is available in all resource packages.</p><p>When a user selects a resource package, only tasks that support that resource package will be displayed in the user interface for selection. This allows providing specialized task configurations for different resource packages, such as event tasks that are only available in specific resource packages.</p><div class="language-jsonc vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsonc</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;task&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;EventTask&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;label&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;$EventTask&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;entry&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ActivityTask&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;resource&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Official&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Event task only available in the Official resource package&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;CommonTask&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;label&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;$CommonTask&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;entry&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;CommonTask&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div></li><li><p><strong>pipeline_override</strong> <code>pipeline</code><em>Optional.</em> Task parameters that <a href="#resource-override">override</a> the loaded resources when executing the task. This structure is exactly the same as the JSON file in the <code>pipeline</code> and must include the task name part, for example:</p><div class="language-jsonc vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsonc</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;pipeline_override&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Quit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;enabled&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li><p><strong>option</strong> <code>string[]</code><em>Optional.</em> Task configuration options, an array containing keys from subsequent <code>option</code> objects. The Client will prompt the user to make selections based on these.</p><p>The Client can display the options in the order provided in the <code>option</code> array.</p></li></ul></li><li><p><strong>option</strong> <code>record&lt;string, object&gt;</code> Definition of configuration options, an object mapping containing information about each option.</p><ul><li><p><em><strong>key</strong></em> Unique name identifier; tasks will reference this name.</p></li><li><p><strong>type</strong> <code>string</code> The option type. <em>Optional</em>, defaults to <code>&quot;select&quot;</code>. Valid values:</p><ul><li><code>&quot;select&quot;</code>: Dropdown selection box, user selects from predefined options</li><li><code>&quot;input&quot;</code>: User input field, allows manual input</li><li><code>&quot;switch&quot;</code>: Toggle switch, Yes or No</li></ul></li><li><p><strong>label</strong> <code>string</code> Option display label, shown in the user interface. Supports internationalized strings (starting with <code>$</code>). <em>Optional.</em></p></li><li><p><strong>description</strong> <code>string</code> Detailed option description to help users understand the option&#39;s purpose. Supports file paths, URLs, or direct text. Content supports Markdown format. <em>Optional.</em> Supports internationalization (starting with <code>$</code>).</p></li><li><p><strong>icon</strong> <code>string</code> Option icon file path, relative to the project root directory. <em>Optional.</em> Supports internationalization (starting with <code>$</code>).</p></li><li><p><strong>cases</strong> <code>object[]</code> Used only when <code>type</code> is <code>&quot;select&quot;</code> or <code>&quot;switch&quot;</code>. Available options, an array of objects containing information about each option. Note: Only two cases are supported when <code>type</code> is <code>&quot;switch&quot;</code>.</p><p>The Client can display the options in the order provided in the <code>cases</code> array.</p><ul><li><p><strong>name</strong> <code>string</code> Unique option identifier, used as the option ID.</p></li><li><p><strong>label</strong> <code>string</code> Option display name, shown in the user interface. Supports internationalized strings (starting with <code>$</code>). If not set, the value of the <code>name</code> field is displayed. <em>Optional.</em></p></li><li><p><strong>description</strong> <code>string</code> Detailed option description. Supports file paths, URLs, or direct text. Content supports Markdown format. <em>Optional.</em> Supports internationalization (starting with <code>$</code>).</p></li><li><p><strong>icon</strong> <code>string</code> Option icon file path, relative to the project root directory. <em>Optional.</em> Supports internationalization (starting with <code>$</code>).</p></li><li><p><strong>option</strong> <code>string[]</code> Sub-option list. <em>Optional.</em> These sub-options are only displayed when the user selects the current option. These sub-options are also defined in the outer <code>option</code> and support unlimited nesting.</p></li><li><p><strong>pipeline_override</strong> <code>pipeline</code> Same as the <code>pipeline_override</code> in the <code>task</code>. It takes effect when the option is activated.</p></li></ul></li><li><p><strong>inputs</strong> <code>object[]</code> Used only when <code>type</code> is <code>&quot;input&quot;</code>. Input configuration, an array of objects defining user-inputtable fields.</p><ul><li><p><strong>name</strong> <code>string</code> Unique input field identifier, used as the input field ID.</p></li><li><p><strong>label</strong> <code>string</code> Input field display name, shown in the user interface. Supports internationalized strings (starting with <code>$</code>). If not set, the value of the <code>name</code> field is displayed. <em>Optional.</em></p></li><li><p><strong>description</strong> <code>string</code> Detailed input field description to help users understand input requirements. Supports file paths, URLs, or direct text. Content supports Markdown format. <em>Optional.</em> Supports internationalization (starting with <code>$</code>).</p></li><li><p><strong>default</strong> <code>string</code> Default value for the input field. <em>Optional.</em></p></li><li><p><strong>pipeline_type</strong> <code>string</code> The data type of the input field in pipeline_override. Valid values: <code>&quot;string&quot;</code>, <code>&quot;int&quot;</code>, <code>&quot;bool&quot;</code>. When using variable substitution in pipeline_override, type conversion is performed according to this type.</p></li><li><p><strong>verify</strong> <code>string</code> Regular expression used to validate whether user input is valid. <em>Optional.</em></p></li><li><p><strong>pattern_msg</strong> <code>string</code> Message displayed when regex validation of user input fails. <em>Optional.</em> Supports internationalization (starting with <code>$</code>).</p></li></ul></li><li><p><strong>pipeline_override</strong> <code>pipeline</code> Used when the option type is <code>&quot;input&quot;</code>, as a substitution template for user input content. Supports using <code>{name}</code> format in strings to reference input field values. <em>Optional.</em></p></li><li><p><strong>default_case</strong> <code>string</code> Default option name, used only when <code>type</code> is <code>&quot;select&quot;</code>. The Client can use this value as the initial selected value for the option. <em>Optional.</em></p></li></ul></li></ul><h3 id="option-examples" tabindex="-1">Option Examples <a class="header-anchor" href="#option-examples" aria-label="Permalink to &quot;Option Examples&quot;">â€‹</a></h3><h4 id="select-type-option-example" tabindex="-1">Select Type Option Example <a class="header-anchor" href="#select-type-option-example" aria-label="Permalink to &quot;Select Type Option Example&quot;">â€‹</a></h4><div class="language-jsonc vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsonc</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;option&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;BattleStage&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;select&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;label&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;$SelectBattleStage&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Select the stage to farm&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;default_case&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;3-9 Dire&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;cases&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;3-9 Dire (Lark)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;label&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;$3-9Dire&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Farm Lark&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;icon&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;lark.png&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;option&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;UseSanityPotion&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &quot;AfterFarmingXXX&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;pipeline_override&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;EnterTheShow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">              &quot;next&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MainChapter_3&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="input-type-option-example" tabindex="-1">Input Type Option Example <a class="header-anchor" href="#input-type-option-example" aria-label="Permalink to &quot;Input Type Option Example&quot;">â€‹</a></h4><div class="language-jsonc vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsonc</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;option&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;CustomStage&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;input&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;label&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Custom Stage&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Choose which stage to play&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;icon&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;wrench.png&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;inputs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ChapterNumber&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;label&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;$ChapterNumber&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Stage chapter number, use Arabic numerals&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;default&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;4&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;pipeline_type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;string&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;verify&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">d+$&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Timeout&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;label&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;$Timeout&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Wait timeout duration&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;default&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;20000&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;pipeline_type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;int&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;verify&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">d+$&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;pipeline_override&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;EnterTheShow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;next&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MainChapter_{ChapterNumber}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;timeout&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{Timeout}&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="input-and-screencap" tabindex="-1">Input and Screencap <a class="header-anchor" href="#input-and-screencap" aria-label="Permalink to &quot;Input and Screencap&quot;">â€‹</a></h3><h4 id="input" tabindex="-1">Input <a class="header-anchor" href="#input" aria-label="Permalink to &quot;Input&quot;">â€‹</a></h4><p>Defines the methods MaaFramework will use for control.</p><h5 id="adb-input" tabindex="-1">Adb Input <a class="header-anchor" href="#adb-input" aria-label="Permalink to &quot;Adb Input&quot;">â€‹</a></h5><blockquote><p><strong>Reference:</strong> <a href="https://github.com/MaaXYZ/MaaFramework/blob/main/include/MaaFramework/MaaDef.h#L227-L240" target="_blank" rel="noopener noreferrer">MaaDef.h</a></p></blockquote><p>Combine the selected methods below using bitwise OR to provide a single value. MaaFramework will try all provided methods in a fixed priority order, choosing the first available one.</p><p>By default, all methods except <strong>EmulatorExtras</strong> are attempted.</p><blockquote><p><strong>Priority:</strong> EmulatorExtras &gt; Maatouch &gt; MinitouchAndAdbKey &gt; AdbShell</p></blockquote><ul><li><p><strong>AdbShell</strong> <code>1</code> Control using the adb process.</p></li><li><p><strong>MinitouchAndAdbKey</strong> <code>2</code> Use the adb process for key control, and the minitouch tool for touch control.</p></li><li><p><strong>Maatouch</strong> <code>4</code> Control using the maatouch tool.</p></li><li><p><strong>EmulatorExtras</strong> <code>8</code> Control using emulator-specific tools. Currently supported emulators:</p><ul><li><p>MuMu 12</p></li><li><p>LDPlayer 9</p></li></ul></li></ul><h5 id="win32-input" tabindex="-1">Win32 Input <a class="header-anchor" href="#win32-input" aria-label="Permalink to &quot;Win32 Input&quot;">â€‹</a></h5><blockquote><p><strong>Reference:</strong> <a href="https://github.com/MaaXYZ/MaaFramework/blob/main/include/MaaFramework/MaaDef.h#L252-L259" target="_blank" rel="noopener noreferrer">MaaDef.h</a></p></blockquote><p>Select one of the values below. There is no default value; the Client can choose one as the default. Different programs on Win32 handle input in various ways, so there is no universal method.</p><ul><li><p><strong>Seize</strong> <code>1</code> Exclusive control. Uses <code>SendInput</code> with foreground focus; steals focus and moves the system cursor. Not suitable for background control.</p></li><li><p><strong>SendMessage</strong> <code>2</code> Sends <code>WM_*</code> messages directly to the window; can control in background (window may lose focus). Subject to UIPI/integrity: if the target is elevated (Run as Administrator), the controller must run with equal or higher integrity.</p></li><li><p><strong>PostMessage</strong> <code>4</code> Like <code>SendMessage</code> but posted asynchronously; can control in background, with the same UIPI/integrity constraints.</p></li><li><p><strong>LegacyEvent</strong> <code>8</code> Legacy <code>mouse_event</code> / <code>keybd_event</code>; depends on foreground and system cursor, generally poorer compatibility. Not suitable for background control.</p></li><li><p><strong>PostThreadMessage</strong> <code>16</code> Posts messages to the window&#39;s UI thread message queue; can control in background, requires the target thread to have a message loop. Subject to UIPI/integrity.</p></li><li><p><strong>SendMessageWithCursorPos</strong> <code>32</code> Combines <code>SendMessage</code> with actual cursor movement; moves the system cursor to the target position via <code>SetCursorPos</code> before sending synchronous messages. Designed for games like Genshin Impact that detect actual mouse position. Can control in background, subject to UIPI/integrity.</p></li><li><p><strong>PostMessageWithCursorPos</strong> <code>64</code> Combines <code>PostMessage</code> with actual cursor movement; moves the system cursor to the target position via <code>SetCursorPos</code> before sending asynchronous messages. Designed for games like Genshin Impact that detect actual mouse position. Can control in background, subject to UIPI/integrity.</p></li></ul><h4 id="screencap" tabindex="-1">Screencap <a class="header-anchor" href="#screencap" aria-label="Permalink to &quot;Screencap&quot;">â€‹</a></h4><p>Defines the method MaaFramework will use to take screenshots.</p><h5 id="adb-screencap" tabindex="-1">Adb Screencap <a class="header-anchor" href="#adb-screencap" aria-label="Permalink to &quot;Adb Screencap&quot;">â€‹</a></h5><blockquote><p><strong>Reference:</strong> <a href="https://github.com/MaaXYZ/MaaFramework/blob/main/include/MaaFramework/MaaDef.h#L208-L225" target="_blank" rel="noopener noreferrer">MaaDef.h</a></p></blockquote><p>Combine the selected methods below using bitwise OR to provide a single value. MaaFramework will try all provided methods and choose the fastest available one. By default, all methods except <strong>RawByNetcat</strong>, <strong>MinicapDirect</strong>, and <strong>MinicapStream</strong> are attempted.</p><p><strong>Note:</strong> Since <strong>MinicapDirect</strong> and <strong>MinicapStream</strong> encode to JPG (a lossy format), they can significantly reduce the effectiveness of template matching and are not recommended.</p><ul><li><p><strong>EncodeToFileAndPull</strong> <code>1</code> Takes a screenshot using an internal screencap process, encodes it as PNG and outputs it to a file, then pulls the file using the adb process and reads the file.</p></li><li><p><strong>Encode</strong> <code>2</code> Takes a screenshot using an internal screencap process, encodes it as PNG, and transfers it via the adb process pipeline.</p></li><li><p><strong>RawWithGzip</strong> <code>4</code> Takes a screenshot using an internal screencap process, compresses it with gzip, and transfers it via the adb process pipeline.</p></li><li><p><strong>RawByNetcat</strong> <code>8</code> Takes a screenshot using an internal screencap process and transfers it via network using the nc process.</p></li><li><p><strong>MinicapDirect</strong> <code>16</code> Uses the minicap tool to take a screenshot, encodes it as JPG, and transfers it via the adb process pipeline.</p></li><li><p><strong>MinicapStream</strong> <code>32</code> Uses the minicap tool in streaming mode to take a screenshot, encodes it as JPG, and transfers it via the adb process pipeline.</p></li><li><p><strong>EmulatorExtras</strong> <code>64</code> Takes a screenshot using emulator-specific tools.</p></li></ul><h5 id="win32-screencap" tabindex="-1">Win32 Screencap <a class="header-anchor" href="#win32-screencap" aria-label="Permalink to &quot;Win32 Screencap&quot;">â€‹</a></h5><blockquote><p><strong>Reference:</strong> <a href="https://github.com/MaaXYZ/MaaFramework/blob/main/include/MaaFramework/MaaDef.h#L242-L250" target="_blank" rel="noopener noreferrer">MaaDef.h</a></p></blockquote><p>Select one of the values below. There is no default value; the Client can choose one as the default. Different programs on Win32 handle rendering in various ways, so there is no universal method.</p><ul><li><p><strong>GDI</strong> <code>1</code> Capture via window <code>HDC</code> / <code>BitBlt</code>; may be affected by DWM/rendering path for some apps or when occluded.</p></li><li><p><strong>FramePool</strong> <code>2</code> Windows Graphics Capture (<code>Direct3D11CaptureFramePool</code>); typically supports background capture for occluded windows. Requires Windows 10 1903+.</p></li><li><p><strong>DXGI_DesktopDup</strong> <code>4</code> Desktop duplication (full-screen output copy); does not support background window capture (occlusion will appear in the frame / it&#39;s desktop-only).</p></li><li><p><strong>DXGI_DesktopDup_Window</strong> <code>8</code> Desktop duplication cropped to the window client area; behaves like <code>DXGI_DesktopDup</code>, occlusion affects result.</p></li><li><p><strong>PrintWindow</strong> <code>16</code> Uses <code>PrintWindow(PW_CLIENTONLY|PW_RENDERFULLCONTENT)</code>; supports non-minimized background windows, but some apps/layered windows may be incompatible.</p></li><li><p><strong>ScreenDC</strong> <code>32</code> Captures from the screen DC and crops by the window&#39;s client rect; fully affected by occlusion, not suitable for background capture.</p></li></ul><h6 id="win32-methods-quick-comparison" tabindex="-1">Win32 Methods Quick Comparison <a class="header-anchor" href="#win32-methods-quick-comparison" aria-label="Permalink to &quot;Win32 Methods Quick Comparison&quot;">â€‹</a></h6><table tabindex="0"><thead><tr><th>Category</th><th>Method</th><th>Background Capture</th><th>Occlusion Impact</th><th>Minimized</th><th>Admin Required</th><th>Notes</th></tr></thead><tbody><tr><td>Screencap</td><td>GDI</td><td>Depends on app</td><td>May be affected</td><td>No (connection refused when minimized)</td><td>No</td><td>DWM/rendering-path dependent</td></tr><tr><td>Screencap</td><td>FramePool</td><td>Yes (typical)</td><td>Largely unaffected</td><td>No</td><td>No</td><td>Windows Graphics Capture, Win10 1903+</td></tr><tr><td>Screencap</td><td>DXGI_DesktopDup</td><td>No</td><td>Occluded</td><td>No</td><td>No</td><td>Desktop output duplication</td></tr><tr><td>Screencap</td><td>DXGI_DesktopDup_Window</td><td>No</td><td>Occluded</td><td>No</td><td>No</td><td>Dup then crop to window client</td></tr><tr><td>Screencap</td><td>PrintWindow</td><td>Yes (non-minimized)</td><td>Not occluded</td><td>No</td><td>No</td><td>Some apps/layered windows may fail</td></tr><tr><td>Screencap</td><td>ScreenDC</td><td>No</td><td>Occluded</td><td>No</td><td>No</td><td>Crop from screen DC</td></tr><tr><td>Input</td><td>Seize</td><td>No (needs foreground)</td><td>-</td><td>-</td><td>If target is elevated</td><td>Steals focus, moves system cursor</td></tr><tr><td>Input</td><td>SendMessage</td><td>Yes</td><td>-</td><td>-</td><td>If target is elevated</td><td>Synchronous window messages</td></tr><tr><td>Input</td><td>PostMessage</td><td>Yes</td><td>-</td><td>-</td><td>If target is elevated</td><td>Asynchronous, may be delayed/dropped</td></tr><tr><td>Input</td><td>LegacyEvent</td><td>No (needs foreground)</td><td>-</td><td>-</td><td>If target is elevated</td><td>Legacy API, weaker compatibility</td></tr><tr><td>Input</td><td>PostThreadMessage</td><td>Yes</td><td>-</td><td>-</td><td>If target is elevated</td><td>Target thread needs message loop</td></tr><tr><td>Input</td><td>SendMessageWithCursorPos</td><td>Yes</td><td>-</td><td>-</td><td>If target is elevated</td><td>Synchronous messages + cursor movement, for games detecting mouse position</td></tr><tr><td>Input</td><td>PostMessageWithCursorPos</td><td>Yes</td><td>-</td><td>-</td><td>If target is elevated</td><td>Asynchronous messages + cursor movement, for games detecting mouse position</td></tr></tbody></table><h3 id="adb-config" tabindex="-1">Adb Config <a class="header-anchor" href="#adb-config" aria-label="Permalink to &quot;Adb Config&quot;">â€‹</a></h3><p>The <code>config</code> object can be used to override some of the controller&#39;s default logic. Typically, specific configuration is only required when using <strong>EmulatorExtras</strong> in multi-instance scenarios.</p><h3 id="internationalization-support" tabindex="-1">Internationalization Support <a class="header-anchor" href="#internationalization-support" aria-label="Permalink to &quot;Internationalization Support&quot;">â€‹</a></h3><p>For all string fields that support internationalization, if the string starts with <code>$</code>, it indicates that the string is an internationalized string. The Client needs to read the actual value from the translation file before displaying it.</p><p>For example:</p><div class="language-jsonc vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsonc</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MyDemo3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;label&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;$MyDemo3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;controller&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Android&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;label&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;$Android&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Corresponding translation file (e.g., <code>interface_en.json</code>):</p><div class="language-jsonc vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsonc</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;MyDemo3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;My Demo 3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Android&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Android Device&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="resource-override" tabindex="-1">Resource Override <a class="header-anchor" href="#resource-override" aria-label="Permalink to &quot;Resource Override&quot;">â€‹</a></h3><p>If a later-loaded resource contains a task with the same name as one already loaded, the tasks will be merged. Generally, the top-level keys of the new task will replace those of the old task. For example:</p><p><strong>Old Task</strong></p><div class="language-jsonc vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsonc</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;task1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;enabled&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;recognition&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;DirectHit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;next&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;T1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;T2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>New Task</strong></p><div class="language-jsonc vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsonc</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;task1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;enabled&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;action&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Click&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;next&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;T2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;T3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>Merged Task</strong></p><div class="language-jsonc vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsonc</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;task1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;enabled&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;recognition&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;DirectHit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;action&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Click&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;next&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;T2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;T3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Direct replacement; inner arrays/lists are not merged.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="node-notification-handling" tabindex="-1">Node Notification Handling <a class="header-anchor" href="#node-notification-handling" aria-label="Permalink to &quot;Node Notification Handling&quot;">â€‹</a></h3><p>MaaFramework sends node notifications via callback functions during task execution. The Client needs to implement the corresponding handling logic to display task execution status to users.</p><h4 id="callback-function-signature" tabindex="-1">Callback Function Signature <a class="header-anchor" href="#callback-function-signature" aria-label="Permalink to &quot;Callback Function Signature&quot;">â€‹</a></h4><p>The Client needs to register a callback function to receive notifications. For the function signature, refer to <a href="https://github.com/MaaXYZ/MaaFramework/blob/main/include/MaaFramework/MaaDef.h" target="_blank" rel="noopener noreferrer">MaaDef.h</a>:</p><div class="language-c vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typedef</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MAA_CALL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MaaEventCallback)(</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    void*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> handle,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> char*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> message,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> char*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> details_json,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    void*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> trans_arg</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><ul><li><strong>message</strong>: Message type identifier (e.g., <code>Node.Action.Starting</code>, <code>Node.Recognition.Succeeded</code>, etc.)</li><li><strong>details_json</strong>: JSON string containing specific data</li></ul><h4 id="message-template-mechanism" tabindex="-1">Message Template Mechanism <a class="header-anchor" href="#message-template-mechanism" aria-label="Permalink to &quot;Message Template Mechanism&quot;">â€‹</a></h4><p>Resource authors can configure message templates in the Pipeline using the <code>focus</code> field. When the Client receives a callback, it should perform placeholder replacement based on the template and display the result to users.</p><p><strong>Pipeline Configuration Example:</strong></p><div class="language-jsonc vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsonc</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;NodeA&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;focus&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Node.Recognition.Succeeded&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{name} recognition hit, ready to start execution&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Node.Action.Starting&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{name} starts execution, task ID: {task_id}&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>Callback Function Parameters Example:</strong></p><div class="language-c vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// message parameter:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Node.Action.Starting&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// details_json parameter (after parsing):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;task_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12345</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;action_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">11111</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;NodeA&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;focus&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;Node.Recognition.Succeeded&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{name} recognition hit, ready to start execution&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;Node.Action.Starting&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{name} starts execution, task ID: {task_id}&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="client-processing-flow" tabindex="-1">Client Processing Flow <a class="header-anchor" href="#client-processing-flow" aria-label="Permalink to &quot;Client Processing Flow&quot;">â€‹</a></h4><ol><li>Parse the <code>details_json</code> parameter in the callback function</li><li>Check if the parsed object contains a <code>focus</code> field</li><li>If present, find the corresponding template string in <code>focus</code> based on the <code>message</code> parameter</li><li>Replace placeholders in the template (e.g., <code>{name}</code>, <code>{task_id}</code>) with data from <code>details_json</code></li><li>Display the processed text to the user</li></ol><p>Using the example above, the final display should be: <code>NodeA starts execution, task ID: 12345</code></p><h4 id="more-message-types" tabindex="-1">More Message Types <a class="header-anchor" href="#more-message-types" aria-label="Permalink to &quot;More Message Types&quot;">â€‹</a></h4><p>For a complete list of callback messages and detailed descriptions, please refer to <a href="2.3-CallbackProtocol">Callback Protocol</a> and <a href="https://github.com/MaaXYZ/MaaFramework/blob/main/include/MaaFramework/MaaMsg.h" target="_blank" rel="noopener noreferrer">MaaMsg.h</a>.</p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/en/docs/3.2-ProjectInterface" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>ProjectInterface</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/en/docs/4.1-BuildGuide" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>BuildGuide</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"community_projects.md\":\"CYATMpdN\",\"docs_1.1-quickstarted.md\":\"YinHE5uT\",\"docs_1.2-explanationofterms.md\":\"CuctChIv\",\"docs_2.1-integration.md\":\"6SVZTn62\",\"docs_2.2-integratedinterfaceoverview.md\":\"kTW_GV_x\",\"docs_2.3-callbackprotocol.md\":\"DurCNoR_\",\"docs_3.1-pipelineprotocol.md\":\"DOvL8mn5\",\"docs_3.2-projectinterface.md\":\"CjVYPbeZ\",\"docs_3.3-projectinterfacev2.md\":\"D17-1my1\",\"docs_4.1-buildguide.md\":\"Cqx-Zcow\",\"docs_4.2-standardizedinterfacedesign.md\":\"AYb1iI08\",\"docs_nodejs_j1.1-quickstarted.md\":\"xc1gpHoI\",\"docs_nodejs_j1.2-custom recognition and action.md\":\"CXX5RFJU\",\"docs_nodejs_j1.3-packaging.md\":\"BL53266L\",\"en_community_projects.md\":\"D4vJSaw_\",\"en_docs_1.1-quickstarted.md\":\"CgULc7Vx\",\"en_docs_1.2-explanationofterms.md\":\"UsKXofP6\",\"en_docs_2.1-integration.md\":\"BgTN3TKB\",\"en_docs_2.2-integratedinterfaceoverview.md\":\"DFzCw1Zu\",\"en_docs_2.3-callbackprotocol.md\":\"B1EE-ni4\",\"en_docs_3.1-pipelineprotocol.md\":\"BJxTTVOb\",\"en_docs_3.2-projectinterface.md\":\"DCa6CSGp\",\"en_docs_3.3-projectinterfacev2.md\":\"DN0_RPca\",\"en_docs_4.1-buildguide.md\":\"B66qa-te\",\"en_docs_4.2-standardizedinterfacedesign.md\":\"B4zspJgE\",\"en_docs_nodejs_j1.1-quickstarted.md\":\"Dd9vMik0\",\"en_docs_nodejs_j1.2-custom recognition and action.md\":\"D9yZW-dd\",\"en_docs_nodejs_j1.3-packaging.md\":\"fd5mbYQx\",\"en_index.md\":\"DPqOTc1t\",\"index.md\":\"DijEgxTw\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-cn\",\"dir\":\"ltr\",\"title\":\"MaaFramework\",\"description\":\"åŸºäºŽå›¾åƒè¯†åˆ«çš„è‡ªåŠ¨åŒ–é»‘ç›’æµ‹è¯•æ¡†æž¶\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/maafw.png\",\"search\":{\"provider\":\"local\"},\"outline\":{\"level\":[2,3]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/MaaXYZ/MaaFramework\"}]},\"locales\":{\"root\":{\"label\":\"ç®€ä½“ä¸­æ–‡\",\"lang\":\"zh-cn\",\"themeConfig\":{\"nav\":[{\"text\":\"ä¸»é¡µ\",\"link\":\"/\"},{\"text\":\"æ–‡æ¡£\",\"activeMatch\":\"/docs/\",\"link\":\"/docs/1.1-QuickStarted\"},{\"text\":\"ç¤¾åŒº\",\"activeMatch\":\"/community/\",\"items\":[{\"text\":\"ç¤¾åŒºé¡¹ç›®\",\"link\":\"/community/projects\"},{\"text\":\"å‹æƒ…é“¾æŽ¥\",\"items\":[{\"text\":\"MaaAssistantArknights\",\"link\":\"https://maa.plus\"}]}]},{\"text\":\"é—® AI ðŸ¤–\",\"link\":\"https://deepwiki.com/MaaXYZ/MaaFramework\"}],\"sidebar\":[{\"text\":\"å¿«é€Ÿå¼€å§‹\",\"link\":\"/docs/1.1-QuickStarted\"},{\"text\":\"æœ¯è¯­è§£é‡Š\",\"link\":\"/docs/1.2-ExplanationOfTerms\"},{\"text\":\"é›†æˆæ–‡æ¡£\",\"link\":\"/docs/2.1-Integration\"},{\"text\":\"é›†æˆæŽ¥å£ä¸€è§ˆ\",\"link\":\"/docs/2.2-IntegratedInterfaceOverview\"},{\"text\":\"å›žè°ƒåè®®\",\"link\":\"/docs/2.3-CallbackProtocol\"},{\"text\":\"ä»»åŠ¡æµæ°´çº¿åè®®\",\"link\":\"/docs/3.1-PipelineProtocol\"},{\"text\":\"ProjectInterfaceåè®®\",\"link\":\"/docs/3.2-ProjectInterface\"},{\"text\":\"ProjectInterfaceV2åè®®\",\"link\":\"/docs/3.3-ProjectInterfaceV2\"},{\"text\":\"æž„å»ºæŒ‡å—\",\"link\":\"/docs/4.1-BuildGuide\"},{\"text\":\"æ ‡å‡†åŒ–æŽ¥å£è®¾è®¡\",\"link\":\"/docs/4.2-StandardizedInterfaceDesign\"},{\"text\":\"NodeJS\",\"items\":[{\"text\":\"å¿«é€Ÿå¼€å§‹\",\"link\":\"/docs/NodeJS/J1.1-QuickStarted\"},{\"text\":\"è‡ªå®šä¹‰è¯†åˆ«_æ“ä½œ\",\"link\":\"/docs/NodeJS/J1.2-Custom Recognition and Action\"},{\"text\":\"æ‰“åŒ…\",\"link\":\"/docs/NodeJS/J1.3-Packaging\"}]}]}},\"en\":{\"label\":\"English\",\"lang\":\"en-us\",\"link\":\"/en/\",\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/en\"},{\"text\":\"Docs\",\"activeMatch\":\"/en/docs/\",\"link\":\"/en/docs/1.1-QuickStarted\"},{\"text\":\"Community\",\"activeMatch\":\"/en/community/\",\"items\":[{\"text\":\"Projects\",\"link\":\"/en/community/projects\"},{\"text\":\"Links\",\"items\":[{\"text\":\"MaaAssistantArknights\",\"link\":\"https://maa.plus\"}]}]},{\"text\":\"Ask AI ðŸ¤–\",\"link\":\"https://deepwiki.com/MaaXYZ/MaaFramework\"}],\"sidebar\":[{\"text\":\"QuickStarted\",\"link\":\"/en/docs/1.1-QuickStarted\"},{\"text\":\"ExplanationOfTerms\",\"link\":\"/en/docs/1.2-ExplanationOfTerms\"},{\"text\":\"Integration\",\"link\":\"/en/docs/2.1-Integration\"},{\"text\":\"IntegratedInterfaceOverview\",\"link\":\"/en/docs/2.2-IntegratedInterfaceOverview\"},{\"text\":\"CallbackProtocol\",\"link\":\"/en/docs/2.3-CallbackProtocol\"},{\"text\":\"PipelineProtocol\",\"link\":\"/en/docs/3.1-PipelineProtocol\"},{\"text\":\"ProjectInterface\",\"link\":\"/en/docs/3.2-ProjectInterface\"},{\"text\":\"ProjectInterfaceV2\",\"link\":\"/en/docs/3.3-ProjectInterfaceV2\"},{\"text\":\"BuildGuide\",\"link\":\"/en/docs/4.1-BuildGuide\"},{\"text\":\"StandardizedInterfaceDesign\",\"link\":\"/en/docs/4.2-StandardizedInterfaceDesign\"},{\"text\":\"NodeJS\",\"items\":[{\"text\":\"QuickStarted\",\"link\":\"/en/docs/NodeJS/J1.1-QuickStarted\"},{\"text\":\"Custom Recognition and Action\",\"link\":\"/en/docs/NodeJS/J1.2-Custom Recognition and Action\"},{\"text\":\"Packaging\",\"link\":\"/en/docs/NodeJS/J1.3-Packaging\"}]}]}}},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>