import{_ as s,c as t,o as i,a4 as e}from"./chunks/framework.QjAkUUnS.js";const k=JSON.parse('{"title":"5.1 问题反馈","description":"","frontmatter":{},"headers":[],"relativePath":"docs/5.1-Troubleshooting.md","filePath":"docs/5.1-问题反馈.md","lastUpdated":null}'),l={name:"docs/5.1-Troubleshooting.md"};function o(n,a,h,d,r,c){return i(),t("div",null,[...a[0]||(a[0]=[e(`<h1 id="_5-1-问题反馈" tabindex="-1">5.1 问题反馈 <a class="header-anchor" href="#_5-1-问题反馈" aria-label="Permalink to &quot;5.1 问题反馈&quot;">​</a></h1><p>在提交 Issue 前，请按照以下指南提供必要的信息，以便我们更快地定位和解决问题。</p><div class="note custom-block github-alert"><p class="custom-block-title">NOTE</p><p>⚠️ <strong>请先更新到最新版本的 MaaFramework</strong>，确认问题是否仍然存在后再提交 Issue。旧版本的问题可能已在新版本中修复。<br> 同时，请确保上传的日志、调试图像等文件来自最新版本。</p></div><h2 id="工作目录" tabindex="-1">工作目录 <a class="header-anchor" href="#工作目录" aria-label="Permalink to &quot;工作目录&quot;">​</a></h2><p>后文提到的日志、调试图像等文件均位于工作目录下，请先确认您的工作目录位置：</p><table tabindex="0"><thead><tr><th>使用场景</th><th>工作目录位置</th></tr></thead><tbody><tr><td>通用 GUI</td><td>可执行文件所在目录</td></tr><tr><td>MaaDebugger</td><td>当前启动目录（cwd）</td></tr><tr><td>VSCode 插件</td><td>侧边栏点击 &quot;Open Maa Log&quot; 可直接打开</td></tr><tr><td>自行集成</td><td>取决于您设置的 <code>LogDir</code> 路径</td></tr></tbody></table><h2 id="日志文件" tabindex="-1">日志文件 <a class="header-anchor" href="#日志文件" aria-label="Permalink to &quot;日志文件&quot;">​</a></h2><p>日志是排查问题的关键信息，请务必提供完整的日志文件。</p><h3 id="日志位置" tabindex="-1">日志位置 <a class="header-anchor" href="#日志位置" aria-label="Permalink to &quot;日志位置&quot;">​</a></h3><p>若无特殊设置，日志文件位于：<code>&lt;工作目录&gt;/debug/maa.log</code></p><h3 id="上传前请确认" tabindex="-1">上传前请确认 <a class="header-anchor" href="#上传前请确认" aria-label="Permalink to &quot;上传前请确认&quot;">​</a></h3><ol><li>打开日志文件，翻到末尾检查时间戳是否为问题发生时间</li><li>若文件明显过短（可能已被 flush），请同时上传 <code>debug/maa.bak.log</code></li></ol><h3 id="上传要求" tabindex="-1">上传要求 <a class="header-anchor" href="#上传要求" aria-label="Permalink to &quot;上传要求&quot;">​</a></h3><ul><li><strong>提供完整日志</strong>：直接上传 <code>.log</code> 文件，体积过大可压缩为 <code>.zip</code></li><li><strong>避免截取片段</strong>：自行截取的日志片段往往缺失关键上下文</li><li><strong>尽量提供干净日志</strong>：若问题可稳定复现，建议删除原日志后重新运行一次，上传最新的问题日志，避免大量无关日志干扰排查。偶发性问题无需强求，直接上传即可</li><li><strong>对比日志</strong>：若某操作正常、另一操作异常，建议同时上传正常和异常时的日志，并重命名以便区分（如 <code>maa_ok.log</code> / <code>maa_fail.log</code>），便于对比定位差异</li></ul><h2 id="pipeline-配置" tabindex="-1">Pipeline 配置 <a class="header-anchor" href="#pipeline-配置" aria-label="Permalink to &quot;Pipeline 配置&quot;">​</a></h2><p>若问题与任务流程相关，请提供相关的 Pipeline JSON 配置：</p><ul><li>出错节点的完整定义</li><li>相关的前后节点配置（如 <code>next</code>、<code>interrupt</code> 等引用的节点）</li><li>若节点较多，可只保留复现问题所需的最小节点集合</li></ul><p>示例：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;问题节点&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;recognition&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;TemplateMatch&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;template&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;xxx.png&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;threshold&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;action&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Click&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;next&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;后续节点&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="崩溃问题" tabindex="-1">崩溃问题 <a class="header-anchor" href="#崩溃问题" aria-label="Permalink to &quot;崩溃问题&quot;">​</a></h2><p>若程序崩溃，请额外提供 Crash Dump 文件：</p><ul><li><strong>Windows</strong>：通常位于 <code>C:\\Users\\&lt;用户名&gt;\\AppData\\Local\\CrashDumps\\</code>，文件格式为 <code>.dmp</code></li><li><strong>Linux/macOS</strong>：检查 core dump 文件，或通过 <code>dmesg</code> / 系统日志获取崩溃信息</li></ul><p>请根据文件修改日期确认 dump 文件与崩溃时间是否对应，避免上传无关的历史 dump。</p><h2 id="识别问题" tabindex="-1">识别问题 <a class="header-anchor" href="#识别问题" aria-label="Permalink to &quot;识别问题&quot;">​</a></h2><p>识别相关问题需要提供调试图像和相关图片资源。</p><h3 id="开启调试图像" tabindex="-1">开启调试图像 <a class="header-anchor" href="#开启调试图像" aria-label="Permalink to &quot;开启调试图像&quot;">​</a></h3><p>在 <code>&lt;工作目录&gt;/config/maa_option.json</code> 中设置：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;save_draw&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>启用后，识别的可视化图像将保存至 <code>&lt;工作目录&gt;/debug/vision/</code> 目录，文件命名格式：<code>{节点名}_{识别ID}_{时间戳}.jpg</code></p><p>Draw 图像会在原始截图上标注 ROI 区域、识别命中位置、匹配详情（如模板匹配会在图像右侧显示模板图片及匹配分数）。</p><h3 id="需要提供的图片" tabindex="-1">需要提供的图片 <a class="header-anchor" href="#需要提供的图片" aria-label="Permalink to &quot;需要提供的图片&quot;">​</a></h3><table tabindex="0"><thead><tr><th>类型</th><th>说明</th><th>必需</th></tr></thead><tbody><tr><td>Draw 图像</td><td><code>debug/vision/</code> 目录下对应的调试图片</td><td>✅</td></tr><tr><td>模板图片</td><td>Pipeline 中 <code>template</code> 字段引用的图片（位于 <code>resource/image/</code>）</td><td>✅</td></tr><tr><td>原始截图</td><td>问题发生时的完整屏幕截图</td><td>建议</td></tr></tbody></table><p>同时请说明预期识别结果与实际识别结果的差异。</p><h2 id="最小复现" tabindex="-1">最小复现 <a class="header-anchor" href="#最小复现" aria-label="Permalink to &quot;最小复现&quot;">​</a></h2><p>请尽可能提供 <strong>最小复现</strong> 示例，这能极大加速问题定位。</p><ul><li>精简到只包含触发问题的最少代码和资源</li><li>去除与问题无关的业务逻辑和节点</li><li>可独立运行并稳定复现问题</li></ul><p><strong>简单场景</strong>：在 Issue 中直接贴出关键代码片段和 Pipeline JSON<br><strong>复杂场景</strong>：提供可运行的最小项目压缩包，或创建 GitHub 仓库</p><h2 id="问题反馈清单" tabindex="-1">问题反馈清单 <a class="header-anchor" href="#问题反馈清单" aria-label="Permalink to &quot;问题反馈清单&quot;">​</a></h2><h3 id="通用问题" tabindex="-1">通用问题 <a class="header-anchor" href="#通用问题" aria-label="Permalink to &quot;通用问题&quot;">​</a></h3><ul class="contains-task-list"><li class="task-list-item"><input class="task-list-item-checkbox" disabled="" type="checkbox"> 完整的 <code>maa.log</code> 日志文件</li><li class="task-list-item"><input class="task-list-item-checkbox" disabled="" type="checkbox"> 问题描述（预期行为 vs 实际行为）</li><li class="task-list-item"><input class="task-list-item-checkbox" disabled="" type="checkbox"> MaaFramework 版本号</li><li class="task-list-item"><input class="task-list-item-checkbox" disabled="" type="checkbox"> Pipeline JSON（若与任务流程相关）</li></ul><h3 id="崩溃问题-额外提供" tabindex="-1">崩溃问题（额外提供） <a class="header-anchor" href="#崩溃问题-额外提供" aria-label="Permalink to &quot;崩溃问题（额外提供）&quot;">​</a></h3><ul class="contains-task-list"><li class="task-list-item"><input class="task-list-item-checkbox" disabled="" type="checkbox"> Crash Dump 文件（<code>.dmp</code>）</li><li class="task-list-item"><input class="task-list-item-checkbox" disabled="" type="checkbox"> <strong>精确的 MaaFramework 版本号</strong>（崩溃分析依赖对应版本的调试符号）</li><li class="task-list-item"><input class="task-list-item-checkbox" disabled="" type="checkbox"> 崩溃前的操作步骤</li></ul><h3 id="识别问题-额外提供" tabindex="-1">识别问题（额外提供） <a class="header-anchor" href="#识别问题-额外提供" aria-label="Permalink to &quot;识别问题（额外提供）&quot;">​</a></h3><ul class="contains-task-list"><li class="task-list-item"><input class="task-list-item-checkbox" disabled="" type="checkbox"> <code>debug/vision/</code> 下的 Draw 调试图片</li><li class="task-list-item"><input class="task-list-item-checkbox" disabled="" type="checkbox"> Pipeline JSON（相关节点的识别配置）</li><li class="task-list-item"><input class="task-list-item-checkbox" disabled="" type="checkbox"> 模板图片（若使用 TemplateMatch/FeatureMatch）</li><li class="task-list-item"><input class="task-list-item-checkbox" disabled="" type="checkbox"> 原始截图（可选，但建议提供）</li></ul><h3 id="加分项" tabindex="-1">加分项 <a class="header-anchor" href="#加分项" aria-label="Permalink to &quot;加分项&quot;">​</a></h3><ul class="contains-task-list"><li class="task-list-item"><input class="task-list-item-checkbox" disabled="" type="checkbox"> 最小复现项目</li><li class="task-list-item"><input class="task-list-item-checkbox" disabled="" type="checkbox"> 问题复现步骤</li></ul><h2 id="其他沟通渠道" tabindex="-1">其他沟通渠道 <a class="header-anchor" href="#其他沟通渠道" aria-label="Permalink to &quot;其他沟通渠道&quot;">​</a></h2><p>除了 GitHub Issue，您也可以通过以下方式获取帮助：</p><ul><li><strong>QQ 群</strong>：595990173（仅讨论开发相关议题）</li></ul><p>简单的使用问题建议先在群里咨询，复杂的 Bug 或功能建议请提交 Issue。</p><h2 id="提交-issue" tabindex="-1">提交 Issue <a class="header-anchor" href="#提交-issue" aria-label="Permalink to &quot;提交 Issue&quot;">​</a></h2><p>请在 <a href="https://github.com/MaaXYZ/MaaFramework/issues" target="_blank" rel="noopener noreferrer">GitHub Issues</a> 提交问题。</p><p>提供的信息越完整，问题解决越快。感谢您的反馈！</p>`,53)])])}const u=s(l,[["render",o]]);export{k as __pageData,u as default};
