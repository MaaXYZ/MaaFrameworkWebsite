import{_ as t,c as e,o as d,a2 as o}from"./chunks/framework.CU_Lz0Mo.js";const a=JSON.parse('{"title":"2.4 Control Methods","description":"","frontmatter":{},"headers":[],"relativePath":"en/docs/2.4-ControlMethods.md","filePath":"en/docs/2.4-ControlMethods.md","lastUpdated":null}');const r=t({name:"en/docs/2.4-ControlMethods.md"},[["render",function(t,a,r,i,n,s){return d(),e("div",null,[...a[0]||(a[0]=[o('<h1 id="_2-4-control-methods" tabindex="-1">2.4 Control Methods <a class="header-anchor" href="#_2-4-control-methods" aria-label="Permalink to &quot;2.4 Control Methods&quot;">​</a></h1><p>This document provides detailed explanations of the various Screencap (screenshot) and Input (control) methods in MaaFramework and their configurations.</p><div class="tip custom-block github-alert"><p class="custom-block-title">TIP</p><p></p><ul><li>For APIs, screencap/input uses <code>int</code> type (bitwise OR combination); for <a href="3.3-ProjectInterfaceV2">ProjectInterface V2</a>, use <code>string</code> type (use the name directly).</li><li><a href="3.3-ProjectInterfaceV2">ProjectInterface V2</a> only supports configuring screencap/mouse/keyboard methods for Win32 controllers. For Adb controllers, screencap/input uses <code>MaaToolkitAdbDeviceFind</code> to automatically detect and select the optimal method, no manual configuration required.</li></ul></div><h2 id="adb" tabindex="-1">Adb <a class="header-anchor" href="#adb" aria-label="Permalink to &quot;Adb&quot;">​</a></h2><h3 id="adb-input" tabindex="-1">Adb Input <a class="header-anchor" href="#adb-input" aria-label="Permalink to &quot;Adb Input&quot;">​</a></h3><blockquote><p>Reference: <a href="https://github.com/MaaXYZ/MaaFramework/blob/main/include/MaaFramework/MaaDef.h#L227-L240" target="_blank" rel="noopener noreferrer">MaaDef.h</a></p></blockquote><p>Combine the selected methods below using <strong>bitwise OR</strong> to provide a single value. MaaFramework will try all provided methods in a fixed priority order and select the first available method.</p><p>By default, all methods except EmulatorExtras are attempted.</p><blockquote><p>Priority: EmulatorExtras &gt; Maatouch &gt; MinitouchAndAdbKey &gt; AdbShell</p></blockquote><table tabindex="0"><thead><tr><th>Name</th><th>API Value</th><th>Speed</th><th>Compatibility</th><th>Description</th></tr></thead><tbody><tr><td>AdbShell</td><td><code>1</code></td><td>Slow</td><td>High</td><td></td></tr><tr><td>MinitouchAndAdbKey</td><td><code>2</code></td><td>Fast</td><td>Medium</td><td>Key input still uses AdbShell</td></tr><tr><td>Maatouch</td><td><code>4</code></td><td>Fast</td><td>Medium</td><td></td></tr><tr><td>EmulatorExtras</td><td><code>8</code></td><td>Fast</td><td>Low</td><td>Only supports emulators: MuMu 12</td></tr></tbody></table><h3 id="adb-screencap" tabindex="-1">Adb Screencap <a class="header-anchor" href="#adb-screencap" aria-label="Permalink to &quot;Adb Screencap&quot;">​</a></h3><blockquote><p>Reference: <a href="https://github.com/MaaXYZ/MaaFramework/blob/main/include/MaaFramework/MaaDef.h#L208-L225" target="_blank" rel="noopener noreferrer">MaaDef.h</a></p></blockquote><p>Combine the selected methods below using <strong>bitwise OR</strong> to provide a single value. MaaFramework will try all provided methods and select the fastest available method.</p><p>By default, all methods except <code>RawByNetcat</code>, <code>MinicapDirect</code>, and <code>MinicapStream</code> are attempted.</p><p><code>MinicapDirect</code> and <code>MinicapStream</code> encode to jpg (lossy compression), which significantly reduces template matching effectiveness and are not recommended.</p><table tabindex="0"><thead><tr><th>Name</th><th>API Value</th><th>Speed</th><th>Compatibility</th><th>Encoding</th><th>Description</th></tr></thead><tbody><tr><td>EncodeToFileAndPull</td><td><code>1</code></td><td>Slow</td><td>High</td><td>Lossless</td><td></td></tr><tr><td>Encode</td><td><code>2</code></td><td>Slow</td><td>High</td><td>Lossless</td><td></td></tr><tr><td>RawWithGzip</td><td><code>4</code></td><td>Medium</td><td>High</td><td>Lossless</td><td></td></tr><tr><td>RawByNetcat</td><td><code>8</code></td><td>Fast</td><td>Low</td><td>Lossless</td><td></td></tr><tr><td>MinicapDirect</td><td><code>16</code></td><td>Fast</td><td>Low</td><td>Lossy</td><td></td></tr><tr><td>MinicapStream</td><td><code>32</code></td><td>Very Fast</td><td>Low</td><td>Lossy</td><td></td></tr><tr><td>EmulatorExtras</td><td><code>64</code></td><td>Very Fast</td><td>Low</td><td>Lossless</td><td>Only supports emulators: MuMu 12, LDPlayer 9</td></tr></tbody></table><h2 id="win32" tabindex="-1">Win32 <a class="header-anchor" href="#win32" aria-label="Permalink to &quot;Win32&quot;">​</a></h2><h3 id="win32-input" tabindex="-1">Win32 Input <a class="header-anchor" href="#win32-input" aria-label="Permalink to &quot;Win32 Input&quot;">​</a></h3><blockquote><p>Reference: <a href="https://github.com/MaaXYZ/MaaFramework/blob/main/include/MaaFramework/MaaDef.h#L252-L259" target="_blank" rel="noopener noreferrer">MaaDef.h</a></p></blockquote><p>Select one of the values below.</p><p>No default value. Client can choose one as the default.</p><p>Different programs on Win32 handle input differently, so there is no universal method.</p><table tabindex="0"><thead><tr><th>Name</th><th>API Value</th><th>Compatibility</th><th>Requires Admin</th><th>Seizes Cursor</th><th>Background</th><th>Description</th></tr></thead><tbody><tr><td>Seize</td><td><code>1</code></td><td>High</td><td>No</td><td>Yes</td><td>No</td><td></td></tr><tr><td>SendMessage</td><td><code>2</code></td><td>Medium</td><td>Maybe</td><td>No</td><td>Yes</td><td></td></tr><tr><td>PostMessage</td><td><code>4</code></td><td>Medium</td><td>Maybe</td><td>No</td><td>Yes</td><td></td></tr><tr><td>LegacyEvent</td><td><code>8</code></td><td>Low</td><td>No</td><td>Yes</td><td>No</td><td></td></tr><tr><td>PostThreadMessage</td><td><code>16</code></td><td>Low</td><td>Maybe</td><td>No</td><td>Yes</td><td></td></tr><tr><td>SendMessageWithCursorPos</td><td><code>32</code></td><td>Medium</td><td>Maybe</td><td>Brief</td><td>Yes</td><td>Designed for games like Genshin Impact that detect actual mouse position</td></tr><tr><td>PostMessageWithCursorPos</td><td><code>64</code></td><td>Medium</td><td>Maybe</td><td>Brief</td><td>Yes</td><td>Designed for games like Genshin Impact that detect actual mouse position</td></tr></tbody></table><div class="note custom-block github-alert"><p class="custom-block-title">NOTE</p><p></p><ul><li>Admin privileges mainly depend on the target program&#39;s permission level. If the target program runs as administrator, running with admin privileges is required for compatibility.</li><li>The <code>WithCursorPos</code> methods briefly move the cursor to the target position, then restore it after sending the message, hence &quot;Brief&quot; cursor seizure, but it does not block user operations.</li></ul></div><h3 id="win32-screencap" tabindex="-1">Win32 Screencap <a class="header-anchor" href="#win32-screencap" aria-label="Permalink to &quot;Win32 Screencap&quot;">​</a></h3><blockquote><p>Reference: <a href="https://github.com/MaaXYZ/MaaFramework/blob/main/include/MaaFramework/MaaDef.h#L242-L250" target="_blank" rel="noopener noreferrer">MaaDef.h</a></p></blockquote><p>Select one of the values below.</p><p>No default value. Client can choose one as the default.</p><p>Different programs on Win32 handle rendering differently, so there is no universal method.</p><table tabindex="0"><thead><tr><th>Name</th><th>API Value</th><th>Speed</th><th>Compatibility</th><th>Requires Admin</th><th>Background</th><th>Description</th></tr></thead><tbody><tr><td>GDI</td><td><code>1</code></td><td>Fast</td><td>Medium</td><td>No</td><td>No</td><td></td></tr><tr><td>FramePool</td><td><code>2</code></td><td>Very Fast</td><td>Medium</td><td>No</td><td>Yes</td><td>Available on Windows 10 1903+</td></tr><tr><td>DXGI_DesktopDup</td><td><code>4</code></td><td>Very Fast</td><td>Low</td><td>No</td><td>No</td><td>Desktop duplication (full-screen output copy)</td></tr><tr><td>DXGI_DesktopDup_Window</td><td><code>8</code></td><td>Very Fast</td><td>Low</td><td>No</td><td>No</td><td>Desktop duplication cropped to window</td></tr><tr><td>PrintWindow</td><td><code>16</code></td><td>Medium</td><td>Medium</td><td>No</td><td>Yes</td><td></td></tr><tr><td>ScreenDC</td><td><code>32</code></td><td>Fast</td><td>High</td><td>No</td><td>No</td><td></td></tr></tbody></table><div class="note custom-block github-alert"><p class="custom-block-title">NOTE</p><p></p><p>Windows stops rendering window content when the window is minimized. All screenshot methods cannot capture valid content from minimized windows, so please avoid minimizing the window.</p></div><h2 id="playcover-macos" tabindex="-1">PlayCover (macOS) <a class="header-anchor" href="#playcover-macos" aria-label="Permalink to &quot;PlayCover (macOS)&quot;">​</a></h2><p>The PlayCover controller is used to control iOS applications running via <a href="https://github.com/hguandl/PlayCover/releases" target="_blank" rel="noopener noreferrer">fork PlayCover</a> on macOS.</p><h3 id="playcover-prerequisites" tabindex="-1">PlayCover Prerequisites <a class="header-anchor" href="#playcover-prerequisites" aria-label="Permalink to &quot;PlayCover Prerequisites&quot;">​</a></h3><ol><li>Install <a href="https://github.com/hguandl/PlayCover/releases" target="_blank" rel="noopener noreferrer">fork PlayCover</a> on macOS</li><li>Target iOS app must have MaaTools feature enabled in PlayCover</li></ol><h2 id="gamepad-windows" tabindex="-1">Gamepad (Windows) <a class="header-anchor" href="#gamepad-windows" aria-label="Permalink to &quot;Gamepad (Windows)&quot;">​</a></h2><p>The Gamepad controller is used to emulate Xbox 360 or DualShock 4 gamepad input on Windows, suitable for games that require gamepad control.</p><h3 id="gamepad-prerequisites" tabindex="-1">Gamepad Prerequisites <a class="header-anchor" href="#gamepad-prerequisites" aria-label="Permalink to &quot;Gamepad Prerequisites&quot;">​</a></h3><p><a href="https://github.com/ViGEm/ViGEmBus/releases" target="_blank" rel="noopener noreferrer">ViGEm Bus Driver</a> must be installed.</p><h3 id="gamepad-types" tabindex="-1">Gamepad Types <a class="header-anchor" href="#gamepad-types" aria-label="Permalink to &quot;Gamepad Types&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Type</th><th>API Value</th><th>Description</th></tr></thead><tbody><tr><td>Xbox360</td><td><code>0</code></td><td>Microsoft Xbox 360 Controller (wired)</td></tr><tr><td>DualShock4</td><td><code>1</code></td><td>Sony DualShock 4 Controller (wired)</td></tr></tbody></table><h3 id="control-mapping" tabindex="-1">Control Mapping <a class="header-anchor" href="#control-mapping" aria-label="Permalink to &quot;Control Mapping&quot;">​</a></h3><p>The Gamepad controller uses the following mapping:</p><h4 id="digital-buttons-click-key-key-down-key-up" tabindex="-1">Digital Buttons (click_key/key_down/key_up) <a class="header-anchor" href="#digital-buttons-click-key-key-down-key-up" aria-label="Permalink to &quot;Digital Buttons (click_key/key_down/key_up)&quot;">​</a></h4><p>Use <code>MaaGamepadButton_*</code> constants as key values. Xbox button values are used for Xbox360 gamepad, DS4 face buttons automatically map to Xbox equivalents:</p><table tabindex="0"><thead><tr><th>Button</th><th>API Value</th><th>Xbox 360</th><th>DualShock 4 Equivalent</th></tr></thead><tbody><tr><td>DPAD_UP</td><td><code>1</code></td><td>D-pad Up</td><td>D-pad Up</td></tr><tr><td>DPAD_DOWN</td><td><code>2</code></td><td>D-pad Down</td><td>D-pad Down</td></tr><tr><td>DPAD_LEFT</td><td><code>4</code></td><td>D-pad Left</td><td>D-pad Left</td></tr><tr><td>DPAD_RIGHT</td><td><code>8</code></td><td>D-pad Right</td><td>D-pad Right</td></tr><tr><td>START / OPTIONS</td><td><code>16</code></td><td>Start</td><td>Options</td></tr><tr><td>BACK / SHARE</td><td><code>32</code></td><td>Back</td><td>Share</td></tr><tr><td>LEFT_THUMB / L3</td><td><code>64</code></td><td>Left Stick Press</td><td>L3</td></tr><tr><td>RIGHT_THUMB / R3</td><td><code>128</code></td><td>Right Stick Press</td><td>R3</td></tr><tr><td>LB / L1</td><td><code>256</code></td><td>LB</td><td>L1</td></tr><tr><td>RB / R1</td><td><code>512</code></td><td>RB</td><td>R1</td></tr><tr><td>GUIDE</td><td><code>1024</code></td><td>Xbox Guide</td><td>-</td></tr><tr><td>A / CROSS</td><td><code>4096</code></td><td>A</td><td>✗ (Cross)</td></tr><tr><td>B / CIRCLE</td><td><code>8192</code></td><td>B</td><td>○ (Circle)</td></tr><tr><td>X / SQUARE</td><td><code>16384</code></td><td>X</td><td>□ (Square)</td></tr><tr><td>Y / TRIANGLE</td><td><code>32768</code></td><td>Y</td><td>△ (Triangle)</td></tr><tr><td>PS</td><td><code>65536</code></td><td>-</td><td>PS (DS4 only)</td></tr><tr><td>TOUCHPAD</td><td><code>131072</code></td><td>-</td><td>Touchpad Press (DS4 only)</td></tr></tbody></table><h4 id="analog-input-touch-down-touch-move-touch-up" tabindex="-1">Analog Input (touch_down/touch_move/touch_up) <a class="header-anchor" href="#analog-input-touch-down-touch-move-touch-up" aria-label="Permalink to &quot;Analog Input (touch_down/touch_move/touch_up)&quot;">​</a></h4><p>Use the <code>contact</code> parameter to select the control target:</p><table tabindex="0"><thead><tr><th>Contact</th><th>Description</th><th>x/y Range</th><th>pressure Range</th></tr></thead><tbody><tr><td>0</td><td>Left Stick</td><td>-32768 ~ 32767</td><td>Ignored</td></tr><tr><td>1</td><td>Right Stick</td><td>-32768 ~ 32767</td><td>Ignored</td></tr><tr><td>2</td><td>Left Trigger (LT/L2)</td><td>Ignored</td><td>0 ~ 255</td></tr><tr><td>3</td><td>Right Trigger (RT/R2)</td><td>Ignored</td><td>0 ~ 255</td></tr></tbody></table><div class="note custom-block github-alert"><p class="custom-block-title">NOTE</p><p></p><ul><li>ViGEm Bus Driver must be installed to use this controller.</li></ul></div>',50)])])}]]);export{a as __pageData,r as default};
