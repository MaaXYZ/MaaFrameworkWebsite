import{_ as s,c as a,o as i,a2 as e}from"./chunks/framework.CU_Lz0Mo.js";const t=JSON.parse('{"title":"4.1 构建指南","description":"","frontmatter":{},"headers":[],"relativePath":"docs/4.1-BuildGuide.md","filePath":"docs/4.1-构建指南.md","lastUpdated":null}');const l=s({name:"docs/4.1-BuildGuide.md"},[["render",function(s,t,l,p,n,h){return i(),a("div",null,[...t[0]||(t[0]=[e('<h1 id="_4-1-构建指南" tabindex="-1">4.1 构建指南 <a class="header-anchor" href="#_4-1-构建指南" aria-label="Permalink to &quot;4.1 构建指南&quot;">​</a></h1><div class="tip custom-block github-alert"><p class="custom-block-title">TIP</p><p><em>仅当您准备开发 MaaFramework 本身时，才需要阅读本章节内容。若您仅希望基于 MaaFramework 开发自己的应用，则请参考 <a href="1.1-QuickStarted">快速开始</a>。</em></p></div><p>开始前，请确保已安装 Git、Python 3、CMake 3.24+，以及对应平台的编译链（Windows: MSVC 2022；Linux/macOS: Ninja + g++/clang）。</p><h2 id="本地开发" tabindex="-1">本地开发 <a class="header-anchor" href="#本地开发" aria-label="Permalink to &quot;本地开发&quot;">​</a></h2><ol><li><p>完整克隆本仓库及子模块（推荐一次性同步）</p><p>子模块包含第三方依赖，构建前必须初始化，可重复执行以保证同步。</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --recurse-submodules</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/MaaXYZ/MaaFramework.git</span></span></code></pre></div><p>或</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/MaaXYZ/MaaFramework.git</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MaaFramework</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> submodule</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --init</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --recursive</span></span></code></pre></div></li><li><p>下载 MaaDeps prebuilt</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tools/maadeps-download.py</span></span></code></pre></div><p>脚本会自动下载并校验预编译依赖，如遇网络问题可重复执行。</p></li><li><p>配置 CMake 预设</p><ul><li>Windows</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cmake</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --preset</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;MSVC 2022&quot;</span></span></code></pre></div><ul><li>Linux / macOS</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cmake</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --preset</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;NinjaMulti&quot;</span></span></code></pre></div></li><li><p>构建并安装</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cmake</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --build</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Release</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cmake</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --prefix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span></code></pre></div></li></ol><p>根据需要可将 <code>--config</code> 切换为 <code>Debug</code>/<code>RelWithDebInfo</code>。生成的二进制及相关文件默认位于 <code>install</code> 目录。</p><p>详情请参考 <a href="https://github.com/MaaXYZ/MaaFramework/blob/main/.github/workflows/build.yml" target="_blank" rel="noopener noreferrer">Build CI</a> 。</p><h2 id="在线开发" tabindex="-1">在线开发 <a class="header-anchor" href="#在线开发" aria-label="Permalink to &quot;在线开发&quot;">​</a></h2><p>使用 Codespaces (Dev Container) 一键配置基础开发环境 (Ninja、Cmake、g++-13)：</p><p><a href="https://github.com/codespaces/new?hide_repo_select=true&amp;ref=master&amp;repo=632024122" target="_blank" rel="noopener noreferrer"><img src="https://github.com/codespaces/badge.svg" alt="Open in GitHub Codespaces"></a></p><p>随后按照 <a href="#%E6%9C%AC%E5%9C%B0%E5%BC%80%E5%8F%91">本地开发</a> 流程进行配置。</p>',11)])])}]]);export{t as __pageData,l as default};
